(self["webpackChunkweek03"]=self["webpackChunkweek03"]||[]).push([[351],{5513:function(t,e,n){(function(e,r){t.exports=r(n(6866))})(0,(t=>(()=>{"use strict";var e={935:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n}},976:e=>{e.exports=t}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,r),a.exports}(()=>{r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}})(),(()=>{r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{r.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})();var i={};return(()=>{r.r(i),r.d(i,{Component:()=>V,LoadingPlugin:()=>U,default:()=>q,useLoading:()=>z});var t=r(976);function e(t){var e;"undefined"!==typeof t.remove?t.remove():null===(e=t.parentNode)||void 0===e||e.removeChild(t)}function n(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=(0,t.h)(e,n,i),o=document.createElement("div");return o.classList.add("vld-container"),r.appendChild(o),(0,t.render)(a,o),a.component}function a(){return"undefined"!==typeof window}const o=a()?window.HTMLElement:Object,s=["aria-busy"],u={class:"vl-icon"};function l(e,n,r,i,a,o){return(0,t.openBlock)(),(0,t.createBlock)(t.Transition,{name:e.transition},{default:(0,t.withCtx)((()=>[(0,t.withDirectives)((0,t.createElementVNode)("div",{tabindex:"0",class:(0,t.normalizeClass)(["vl-overlay vl-active",{"vl-full-page":e.isFullPage}]),"aria-busy":e.isActive,"aria-label":"Loading",style:(0,t.normalizeStyle)({zIndex:e.zIndex})},[(0,t.createElementVNode)("div",{class:"vl-background",onClick:n[0]||(n[0]=(0,t.withModifiers)((function(){return e.cancel&&e.cancel(...arguments)}),["prevent"])),style:(0,t.normalizeStyle)(e.bgStyle)},null,4),(0,t.createElementVNode)("div",u,[(0,t.renderSlot)(e.$slots,"before"),(0,t.renderSlot)(e.$slots,"default",{},(()=>[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.loader),{color:e.color,width:e.width,height:e.height},null,8,["color","width","height"]))])),(0,t.renderSlot)(e.$slots,"after")])],14,s),[[t.vShow,e.isActive]])])),_:3},8,["name"])}const c={mounted(){this.enforceFocus&&document.addEventListener("focusin",this.focusIn)},methods:{focusIn(t){if(!this.isActive)return;if(t.target===this.$el||this.$el.contains(t.target))return;let e=this.container?this.container:this.isFullPage?null:this.$el.parentElement;(this.isFullPage||e&&e.contains(t.target))&&(t.preventDefault(),this.$el.focus())}},beforeUnmount(){document.removeEventListener("focusin",this.focusIn)}},d=["width","height","stroke"],m=(0,t.createStaticVNode)('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".25" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.8s" repeatCount="indefinite"></animateTransform></path></g></g>',1),f=[m];function p(e,n,r,i,a,o){return(0,t.openBlock)(),(0,t.createElementBlock)("svg",{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,stroke:e.color},f,8,d)}const h=(0,t.defineComponent)({name:"spinner",props:{color:{type:String,default:"#000"},height:{type:Number,default:64},width:{type:Number,default:64}}});var g=r(935);const b=(0,g["default"])(h,[["render",p]]),v=b,y=["fill","width","height"],w=(0,t.createStaticVNode)('<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity="0.3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="0.5" to="0.5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',3),_=[w];function C(e,n,r,i,a,o){return(0,t.openBlock)(),(0,t.createElementBlock)("svg",{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:e.color,width:e.width,height:e.height},_,8,y)}const k=(0,t.defineComponent)({name:"dots",props:{color:{type:String,default:"#000"},height:{type:Number,default:240},width:{type:Number,default:60}}}),x=(0,g["default"])(k,[["render",C]]),S=x,D=["height","width","fill"],$=(0,t.createStaticVNode)('<rect x="0" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="10" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="20" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate></rect>',3),M=[$];function N(e,n,r,i,a,o){return(0,t.openBlock)(),(0,t.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",height:e.height,width:e.width,fill:e.color},M,8,D)}const P=(0,t.defineComponent)({name:"bars",props:{color:{type:String,default:"#000"},height:{type:Number,default:40},width:{type:Number,default:40}}}),A=(0,g["default"])(P,[["render",N]]),E=A,B={Spinner:v,Dots:S,Bars:E},T=(0,t.defineComponent)({name:"VueLoading",mixins:[c],props:{active:Boolean,programmatic:Boolean,container:[Object,Function,o],isFullPage:{type:Boolean,default:!0},enforceFocus:{type:Boolean,default:!0},lockScroll:Boolean,transition:{type:String,default:"fade"},canCancel:Boolean,onCancel:{type:Function,default:()=>{}},color:String,backgroundColor:String,opacity:Number,width:Number,height:Number,zIndex:Number,loader:{type:String,default:"spinner"}},components:B,emits:["hide","update:active"],data(){return{isActive:this.active}},mounted(){document.addEventListener("keyup",this.keyPress)},methods:{cancel(){this.canCancel&&this.isActive&&(this.hide(),this.onCancel.apply(null,arguments))},hide(){this.$emit("hide"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout((()=>{const n=this.$el.parentElement;(0,t.render)(null,n),e(n)}),150))},disableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.add("vl-shown")},enableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.remove("vl-shown")},keyPress(t){27===t.keyCode&&this.cancel()}},watch:{active(t){this.isActive=t},isActive(t){t?this.disableScroll():this.enableScroll()}},computed:{bgStyle(){return{background:this.backgroundColor,opacity:this.opacity}}},beforeUnmount(){document.removeEventListener("keyup",this.keyPress)}}),R=(0,g["default"])(T,[["render",l]]),V=R;function z(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{show(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const a={programmatic:!0,lockScroll:!0,isFullPage:!1,active:!0},o={...t,...r,...a};let s=o.container;o.container||(s=document.body,o.isFullPage=!0);const u={...e,...i},l=n(V,o,s,u);return{hide:l.ctx.hide}}}}const U=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=z(e,n);t.config.globalProperties.$loading=r,t.provide("$loading",r)},q=V})(),i})()))},6866:function(t,e,n){"use strict";n.r(e),n.d(e,{BaseTransition:function(){return r.P$},Comment:function(){return r.sv},EffectScope:function(){return r.Bj},Fragment:function(){return r.HY},KeepAlive:function(){return r.Ob},ReactiveEffect:function(){return r.qq},Static:function(){return r.qG},Suspense:function(){return r.n4},Teleport:function(){return r.lR},Text:function(){return r.xv},Transition:function(){return r.uT},TransitionGroup:function(){return r.W3},VueElement:function(){return r.a2},callWithAsyncErrorHandling:function(){return r.$d},callWithErrorHandling:function(){return r.KU},camelize:function(){return r._A},capitalize:function(){return r.kC},cloneVNode:function(){return r.Ho},compatUtils:function(){return r.ry},compile:function(){return i},computed:function(){return r.Fl},createApp:function(){return r.ri},createBlock:function(){return r.j4},createCommentVNode:function(){return r.kq},createElementBlock:function(){return r.iD},createElementVNode:function(){return r._},createHydrationRenderer:function(){return r.Eo},createPropsRestProxy:function(){return r.p1},createRenderer:function(){return r.Us},createSSRApp:function(){return r.vr},createSlots:function(){return r.Nv},createStaticVNode:function(){return r.uE},createTextVNode:function(){return r.Uk},createVNode:function(){return r.Wm},customRef:function(){return r.ZM},defineAsyncComponent:function(){return r.RC},defineComponent:function(){return r.aZ},defineCustomElement:function(){return r.MW},defineEmits:function(){return r.Bz},defineExpose:function(){return r.WY},defineProps:function(){return r.yb},defineSSRCustomElement:function(){return r.Ah},devtools:function(){return r.mW},effect:function(){return r.cE},effectScope:function(){return r.B},getCurrentInstance:function(){return r.FN},getCurrentScope:function(){return r.nZ},getTransitionRawChildren:function(){return r.Q6},guardReactiveProps:function(){return r.F4},h:function(){return r.h},handleError:function(){return r.S3},hydrate:function(){return r.ZB},initCustomFormatter:function(){return r.Mr},initDirectivesForSSR:function(){return r.Nd},inject:function(){return r.f3},isMemoSame:function(){return r.nQ},isProxy:function(){return r.X3},isReactive:function(){return r.PG},isReadonly:function(){return r.$y},isRef:function(){return r.dq},isRuntimeOnly:function(){return r.of},isShallow:function(){return r.yT},isVNode:function(){return r.lA},markRaw:function(){return r.Xl},mergeDefaults:function(){return r.u_},mergeProps:function(){return r.dG},nextTick:function(){return r.Y3},normalizeClass:function(){return r.C_},normalizeProps:function(){return r.vs},normalizeStyle:function(){return r.j5},onActivated:function(){return r.dl},onBeforeMount:function(){return r.wF},onBeforeUnmount:function(){return r.Jd},onBeforeUpdate:function(){return r.Xn},onDeactivated:function(){return r.se},onErrorCaptured:function(){return r.d1},onMounted:function(){return r.bv},onRenderTracked:function(){return r.bT},onRenderTriggered:function(){return r.Yq},onScopeDispose:function(){return r.EB},onServerPrefetch:function(){return r.vl},onUnmounted:function(){return r.SK},onUpdated:function(){return r.ic},openBlock:function(){return r.wg},popScopeId:function(){return r.Cn},provide:function(){return r.JJ},proxyRefs:function(){return r.WL},pushScopeId:function(){return r.dD},queuePostFlushCb:function(){return r.qb},reactive:function(){return r.qj},readonly:function(){return r.OT},ref:function(){return r.iH},registerRuntimeCompiler:function(){return r.Y1},render:function(){return r.sY},renderList:function(){return r.Ko},renderSlot:function(){return r.WI},resolveComponent:function(){return r.up},resolveDirective:function(){return r.Q2},resolveDynamicComponent:function(){return r.LL},resolveFilter:function(){return r.eq},resolveTransitionHooks:function(){return r.U2},setBlockTracking:function(){return r.qZ},setDevtoolsHook:function(){return r.ec},setTransitionHooks:function(){return r.nK},shallowReactive:function(){return r.Um},shallowReadonly:function(){return r.YS},shallowRef:function(){return r.XI},ssrContextKey:function(){return r.Uc},ssrUtils:function(){return r.G},stop:function(){return r.sT},toDisplayString:function(){return r.zw},toHandlerKey:function(){return r.hR},toHandlers:function(){return r.mx},toRaw:function(){return r.IU},toRef:function(){return r.Vh},toRefs:function(){return r.BK},transformVNodeArgs:function(){return r.C3},triggerRef:function(){return r.oR},unref:function(){return r.SU},useAttrs:function(){return r.l1},useCssModule:function(){return r.fb},useCssVars:function(){return r.sj},useSSRContext:function(){return r.Zq},useSlots:function(){return r.Rr},useTransitionState:function(){return r.Y8},vModelCheckbox:function(){return r.e8},vModelDynamic:function(){return r.YZ},vModelRadio:function(){return r.G2},vModelSelect:function(){return r.bM},vModelText:function(){return r.nr},vShow:function(){return r.F8},version:function(){return r.i8},warn:function(){return r.ZK},watch:function(){return r.YP},watchEffect:function(){return r.m0},watchPostEffect:function(){return r.Rh},watchSyncEffect:function(){return r.yX},withAsyncContext:function(){return r.mv},withCtx:function(){return r.w5},withDefaults:function(){return r.b9},withDirectives:function(){return r.wy},withKeys:function(){return r.D2},withMemo:function(){return r.MX},withModifiers:function(){return r.iM},withScopeId:function(){return r.HX}});var r=n(9242);const i=()=>{0}},4881:function(t,e,n){"use strict";function r(t){let e=t.toString().split("");return e.length<4?`$${t}`:e.length>=4?(e.splice(-3,0,","),`$${e.join("")}`):void 0}function i(t){const e=new Date(1e3*t);return`${e.getFullYear()}/${e.getMonth()+1}/${e.getDate()} ${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}`}n.d(e,{A:function(){return r},N:function(){return i}})},8450:function(t,e,n){"use strict";n(7658);var r=n(2578),i=n(6294),a=n(4677);e["Z"]=(0,r.Q_)("orderStore",{state:()=>({submitData:{user:{name:"",email:"",tel:"",address:""},message:""},tempOrders:[],tempData:{},pagination:{},api:{url:"https://vue3-course-api.hexschool.io/v2",path:"vue2022ron"}}),getters:{},actions:{getOrders(){this.axios.get(`${this.api.url}/api/${this.api.path}/admin/orders`).then((t=>{this.tempOrders=t.data.orders,this.pagination=t.data.pagination})).catch((t=>{const e=(0,i.Z)();e.swAlert("center","error",t.response.data.message,!1,!1)}))},checkStatus(){(async()=>{const t=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");this.axios.defaults.headers.common["Authorization"]=t;try{const t=await this.axios.post(`${this.api.url}/api/user/check`);this.checkResult=t.data.success,this.getProducts()}catch(e){const t=(0,i.Z)();await t.swAlert("center","error",e.response.data.message,!1,!1),this.router.push("/login")}})()},submit(){const t=(0,i.Z)(),e=(0,a.Z)();this.axios.post(`${this.api.url}/api/${this.api.path}/order`,{data:this.submitData}).then((n=>{e.getCart(),t.swAlert("center","success",`訂購的商品${n.data.message}`,!1,!1)})).catch((e=>{t.swAlert("center","error",e.response.data.message,!1,!1)}))},changePaid(){this.axios.put(`${this.api.url}/api/${this.api.path}/admin/order/${this.tempData.id}`,{data:this.tempData}).then((t=>{console.log(t)})).catch((t=>{console.log(t)}))},async put(){const t=(0,i.Z)();try{const e=await this.axios.put(`${this.api.url}/api/${this.api.path}/admin/product/${id}`,{data:putData});this.getProducts(this.selectEl.value),await t.swAlert("top-end","success",e.data.message,!1,!0)}catch(e){t.swAlert("top-end","error",e.response.data.message,!1,!0)}}}})},4677:function(t,e,n){"use strict";var r=n(2578),i=n(6294);e["Z"]=(0,r.Q_)("cartStore",{state:()=>({api:{url:"https://vue3-course-api.hexschool.io/v2",path:"vue2022ron"},tempCart:{}}),getters:{},actions:{getCart(){this.axios.get(`${this.api.url}/api/${this.api.path}/cart`).then((t=>{this.tempCart=t.data.data})).catch((t=>{const e=(0,i.Z)();e.swAlert("center","error",t.response.data.message,!1,!1)}))},addCart(t,e=1){const n=(0,i.Z)();this.axios.post(`${this.api.url}/api/${this.api.path}/cart`,{data:{product_id:t,qty:e}}).then((t=>{this.getCart(),n.swAlert("top-end","success",`此商品${t.data.message}`,!1,!0)})).catch((t=>{n.swAlert("center","error",t.response.data.message,!1,!1)}))},changeQty(t){const e=(0,i.Z)();this.axios.put(`${this.api.url}/api/${this.api.path}/cart/${t.id}`,{data:{product_id:t.id,qty:t.qty}}).then((t=>{this.getCart(),e.swAlert("top-end","success",`${t.data.message}商品數量`,!1,!0)})).catch((t=>{e.swAlert("center","error",t.response.data.message,!1,!1)}))},delCartItem(t){const e=(0,i.Z)();this.axios.delete(`${this.api.url}/api/${this.api.path}/cart/${t}`).then((t=>{this.getCart(),e.swAlert("top-end","success",`此商品${t.data.message}`,!1,!0)})).catch((t=>{e.swAlert("center","error",t.response.data.message,!1,!1)}))},delCartItems(){const t=(0,i.Z)();this.axios.delete(`${this.api.url}/api/${this.api.path}/carts`).then((e=>{this.getCart(),t.swAlert("top-end","success",`購物車全部${e.data.message}`,!1,!0)})).catch((e=>{t.swAlert("center","error",e.response.data.message,!1,!1)}))}},debounce:{changeQty:500,addCart:500}})},7351:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return At}});var r=n(3396),i=n(7139),a=n(9242);const o={class:"mt-4"},s={class:"table align-middle"},u=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"圖片"),(0,r._)("th",{class:"text-start ps-6"},"商品名稱"),(0,r._)("th",{class:"text-start ps-6"},"價格"),(0,r._)("th")])],-1),l={style:{width:"200px"}},c=["src","alt"],d={class:"text-start ps-6"},m={class:"align-middle text-start ps-6"},f={class:"h5"},p={class:"h6 text-muted"},h={class:"h5 text-danger"},g={class:"align-middle"},b={class:"btn-group btn-group-sm"},v=["onClick"],y=(0,r._)("i",{class:"fas fa-spinner fa-pulse"},null,-1),w=["onClick"],_={key:0},C=(0,r._)("h4",{class:"text-center my-5"},"購物車為空的",-1),k=[C],x={key:1},S={class:"text-end"},D={class:"table align-middle"},$=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th"),(0,r._)("th",null,"品名"),(0,r._)("th",{width:"150"},"數量/單位"),(0,r._)("th",{width:"200"},"單價")])],-1),M={class:"align-middle"},N=["onClick"],P={class:"align-middle"},A={key:0,class:"text-success"},E={class:"align-middle"},B={class:"input-group input-group-sm"},T={class:"input-group my-2"},R=["onUpdate:modelValue","onChange"],V={class:"input-group-text",id:"basic-addon2"},z={class:"text-end align-middle text-center"},U={key:0,class:"text-success"},q=(0,r._)("td",{colspan:"3",class:"text-end"},"總計",-1),L={class:"text-center fw-bold"},Z=(0,r._)("td",{colspan:"3",class:"text-end text-success"},"折扣價",-1),F={class:"text-center fw-bold text-success"},I={key:0,class:"my-5 row justify-content-center"},W={class:"mb-3"},H=(0,r._)("label",{for:"email",class:"form-label"},"Email",-1),j={class:"mb-3"},O=(0,r._)("label",{for:"name",class:"form-label"},"收件人姓名",-1),X={class:"mb-3"},Y=(0,r._)("label",{for:"tel",class:"form-label"},"收件人電話",-1),K={class:"mb-3"},Q=(0,r._)("label",{for:"address",class:"form-label"},"收件人地址",-1),G={class:"mb-3"},J=(0,r._)("label",{for:"message",class:"form-label"},"留言",-1),tt=(0,r._)("div",{class:"text-end"},[(0,r._)("button",{type:"submit",class:"btn btn-danger"},"送出訂單")],-1),et={class:"modal fade",id:"productModal",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},nt={class:"modal-dialog modal-xl",role:"document"},rt={class:"modal-content border-0"},it={class:"modal-header bg-dark text-white"},at={class:"modal-title",id:"exampleModalLabel"},ot=(0,r._)("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),st={class:"modal-body"},ut={class:"row"},lt={class:"col-sm-6"},ct=["src","alt"],dt={class:"col-sm-6 text-start"},mt={class:"badge bg-primary rounded-pill"},ft=(0,r._)("span",{class:"fw-bold"},"商品描述：",-1),pt=(0,r._)("span",{class:"fw-bold"},"商品內容：",-1),ht={class:"h5"},gt={class:"h6"},bt={class:"h5"},vt={class:"input-group"};function yt(t,e,n,C,yt,wt){const _t=(0,r.up)("v-field"),Ct=(0,r.up)("error-message"),kt=(0,r.up)("v-form");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",{class:"container",style:(0,i.j5)([{opacity:C.admin.tempProducts.length?1:0},{transition:"all 1.5s"}])},[(0,r._)("div",o,[(0,r._)("table",s,[u,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(C.admin.tempProducts,((t,e)=>((0,r.wg)(),(0,r.iD)("tr",{key:"item"+e},[(0,r._)("td",l,[(0,r._)("img",{src:t.imageUrl,alt:"img"+(e+1),style:{height:"100px","background-size":"cover","background-position":"center"}},null,8,c)]),(0,r._)("td",d,(0,i.zw)(t.title),1),(0,r._)("td",m,[(0,r._)("p",f,[(0,r._)("del",p,"原價 "+(0,i.zw)(C.thousandths(t.origin_price))+" 元",1)]),(0,r._)("p",h,"現在只要 "+(0,i.zw)(C.thousandths(t.price))+" 元",1)]),(0,r._)("td",g,[(0,r._)("div",b,[(0,r._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:e=>C.openModal(t)},[y,(0,r.Uk)(" 查看更多 ")],8,v),(0,r._)("button",{type:"button",class:"btn btn-outline-danger",onClick:e=>C.cart.addCart(t.id)}," 加到購物車 ",8,w)])])])))),128))])]),C.cart.tempCart.carts?.length?((0,r.wg)(),(0,r.iD)("div",x,[(0,r._)("div",S,[(0,r._)("button",{class:"btn btn-outline-danger position-relative",type:"button",onClick:e[0]||(e[0]=t=>C.cart.delCartItems())}," 清空購物車 ")]),(0,r._)("table",D,[$,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(C.cart.tempCart.carts,((t,e)=>((0,r.wg)(),(0,r.iD)("tr",{key:"item"+e},[(0,r._)("td",M,[(0,r._)("button",{type:"button",class:"btn btn-outline-danger btn-md",onClick:e=>C.cart.delCartItem(t.id)},"X",8,N)]),(0,r._)("td",P,[(0,r.Uk)((0,i.zw)(t.product.title)+" ",1),t.coupon?.is_enabled?((0,r.wg)(),(0,r.iD)("div",A,"已套用優惠券")):(0,r.kq)("",!0)]),(0,r._)("td",E,[(0,r._)("div",B,[(0,r._)("div",T,[(0,r.wy)((0,r._)("input",{min:"1",type:"number",class:"form-control","onUpdate:modelValue":e=>t.qty=e,onChange:e=>C.cart.changeQty(t)},null,40,R),[[a.nr,t.qty,void 0,{number:!0}]]),(0,r._)("span",V,(0,i.zw)(t.product.unit),1)])])]),(0,r._)("td",z,[t.coupon?.is_enabled?((0,r.wg)(),(0,r.iD)("small",U,"折扣價：")):(0,r.kq)("",!0),(0,r.Uk)(" "+(0,i.zw)(C.thousandths(t.final_total)),1)])])))),128))]),(0,r._)("tfoot",null,[(0,r._)("tr",null,[q,(0,r._)("td",L,(0,i.zw)(C.thousandths(C.cart.tempCart.final_total)),1)]),(0,r._)("tr",null,[Z,(0,r._)("td",F,(0,i.zw)(C.thousandths(C.cart.tempCart.final_total)),1)])])])])):((0,r.wg)(),(0,r.iD)("div",_,k))]),C.cart.tempCart.carts?.length?((0,r.wg)(),(0,r.iD)("div",I,[(0,r.Wm)(kt,{class:"col-md-6",id:"form",onSubmit:C.submit},{default:(0,r.w5)((({errors:t})=>[(0,r._)("div",W,[H,(0,r.Wm)(_t,{id:"email",name:"email",type:"email",class:(0,i.C_)(["form-control",{"is-invalid":t["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:C.submitData.user.email,"onUpdate:modelValue":e[1]||(e[1]=t=>C.submitData.user.email=t)},null,8,["class","modelValue"]),(0,r.Wm)(Ct,{name:"email",class:"invalid-feedback"})]),(0,r._)("div",j,[O,(0,r.Wm)(_t,{id:"name",name:"姓名",type:"text",class:(0,i.C_)(["form-control",{"is-invalid":t["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:C.submitData.user.name,"onUpdate:modelValue":e[2]||(e[2]=t=>C.submitData.user.name=t)},null,8,["class","modelValue"]),(0,r.Wm)(Ct,{name:"姓名",class:"invalid-feedback"})]),(0,r._)("div",X,[Y,(0,r.Wm)(_t,{id:"tel",name:"電話",type:"tel",class:(0,i.C_)(["form-control",{"is-invalid":t["電話"]}]),placeholder:"請輸入電話",rules:C.isPhone,modelValue:C.submitData.user.tel,"onUpdate:modelValue":e[3]||(e[3]=t=>C.submitData.user.tel=t)},null,8,["class","rules","modelValue"]),(0,r.Wm)(Ct,{name:"電話",class:"invalid-feedback"})]),(0,r._)("div",K,[Q,(0,r.Wm)(_t,{id:"address",name:"地址",type:"text",class:(0,i.C_)(["form-control",{"is-invalid":t["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:C.submitData.user.address,"onUpdate:modelValue":e[4]||(e[4]=t=>C.submitData.user.address=t)},null,8,["class","modelValue"]),(0,r.Wm)(Ct,{name:"地址",class:"invalid-feedback"})]),(0,r._)("div",G,[J,(0,r.wy)((0,r._)("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[5]||(e[5]=t=>C.submitData.message=t)},null,512),[[a.nr,C.submitData.message]])]),tt])),_:1},8,["onSubmit"])])):(0,r.kq)("",!0)],4),(0,r._)("div",et,[(0,r._)("div",nt,[(0,r._)("div",rt,[(0,r._)("div",it,[(0,r._)("h5",at,[(0,r._)("span",null,(0,i.zw)(C.admin.tempData.title),1)]),ot]),(0,r._)("div",st,[(0,r._)("div",ut,[(0,r._)("div",lt,[(0,r._)("img",{class:"img-fluid",src:C.admin.tempData.imageUrl,alt:"img"+C.admin.tempData.num},null,8,ct)]),(0,r._)("div",dt,[(0,r._)("span",mt,(0,i.zw)(C.admin.tempData.category),1),(0,r._)("p",null,[ft,(0,r.Uk)(" "+(0,i.zw)(C.admin.tempData.description),1)]),(0,r._)("p",null,[pt,(0,r.Uk)(" "+(0,i.zw)(C.admin.tempData.content),1)]),(0,r._)("div",ht,(0,i.zw)(C.admin.tempData.price)+" 元",1),(0,r._)("del",gt,"原價 "+(0,i.zw)(C.admin.tempData.origin_price)+" 元",1),(0,r._)("div",bt,"現在只要 "+(0,i.zw)(C.admin.tempData.price)+" 元",1),(0,r._)("div",null,[(0,r._)("div",vt,[(0,r.wy)((0,r._)("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":e[6]||(e[6]=t=>C.admin.tempData.qty=t)},null,512),[[a.nr,C.admin.tempData.qty]]),(0,r._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:e[7]||(e[7]=t=>C.cart.addCart(C.admin.tempData.id,C.admin.tempData.qty))},"加入購物車")])])])])])])])],512)],64)}var wt=n(2578),_t=n(9284),Ct=n(4677),kt=n(8450),xt=n(4397),St=n(5513),Dt=n(4881);function $t(t){const e=/^[0]*[9]/,n=/\d{10}$/;return e.test(t)?!!n.test(t)||"手機號碼為數字，共10碼":"手機號碼開頭為09"}var Mt={setup(){const t=(0,_t.Z)(),e=(0,Ct.Z)(),n=(0,kt.Z)(),{submitData:i}=(0,wt.Jk)(n);t.$onAction((({name:t,after:e,onError:n})=>{"getProducts"===t&&e((()=>{u.hide()}))}));const a=e=>{t.tempData={...e},t.tempData.qty=1;const n=new xt.Z(document.getElementById("productModal"));n.show()},o=async()=>{await n.submit(),setTimeout((()=>{n.$reset()}),1e3)},s=()=>{const t=(0,St.useLoading)({});let e=null;return{show:()=>{e=t.show({container:null,canCancel:!1,loader:"Bars",color:"green",width:75,height:75,backgroundColor:"#ffffff",isFullPage:!1,opacity:1,zindex:999})},hide:()=>{setTimeout((()=>{e.hide()}),1e3)}}},u=s();return(0,r.bv)((()=>{t.checkStatus(),e.getCart(),u.show()})),{admin:t,cart:e,order:n,openModal:a,submit:o,submitData:i,thousandths:Dt.A,loader:u,isPhone:$t}}},Nt=n(89);const Pt=(0,Nt.Z)(Mt,[["render",yt]]);var At=Pt}}]);
//# sourceMappingURL=351.1a75f556.js.map